<!DOCTYPE html>
<html>
<head>
    <title>Test JavaScript Fixes</title>
</head>
<body>
    <h1>Testing JavaScript Fixes</h1>
    <div id="status"></div>
    <button onclick="testFunctions()">Test Functions</button>
    
    <script src="comprehensive-voices.js"></script>
    <script>
        function testFunctions() {
            const status = document.getElementById('status');
            
            try {
                // Test 1: Check if COMPREHENSIVE_VOICES is defined
                if (typeof COMPREHENSIVE_VOICES !== 'undefined') {
                    status.innerHTML += '<p>✅ COMPREHENSIVE_VOICES is defined</p>';
                } else {
                    status.innerHTML += '<p>❌ COMPREHENSIVE_VOICES is not defined</p>';
                }
                
                // Test 2: Check if we can access voices
                if (COMPREHENSIVE_VOICES.playht && COMPREHENSIVE_VOICES.elevenlabs) {
                    status.innerHTML += '<p>✅ Voice data structure is correct</p>';
                } else {
                    status.innerHTML += '<p>❌ Voice data structure is incorrect</p>';
                }
                
                // Test 3: Test function definition
                function showCredentialsSetup() {
                    return 'showCredentialsSetup function works';
                }
                
                const result = showCredentialsSetup();
                status.innerHTML += '<p>✅ Function definition works: ' + result + '</p>';
                
                // Test 4: Test loadElevenLabsVoicesFromComprehensive logic
                const voices = [];
                if (COMPREHENSIVE_VOICES.elevenlabs) {
                    for (const [langCode, voiceList] of Object.entries(COMPREHENSIVE_VOICES.elevenlabs)) {
                        for (const voice of voiceList) {
                            voices.push({
                                voice_id: voice.voice_id,
                                name: voice.name,
                                labels: voice.labels
                            });
                        }
                    }
                }
                
                status.innerHTML += '<p>✅ Voice loading logic works: ' + voices.length + ' voices loaded</p>';
                
                status.innerHTML += '<p><strong>All tests passed! JavaScript fixes are working.</strong></p>';
                
            } catch (error) {
                status.innerHTML += '<p>❌ Error: ' + error.message + '</p>';
            }
        }
    </script>
</body>
</html> 